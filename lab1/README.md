#  Лабораторная работа по написанию первого Ansible скрипта
В этом проекте написаны два скрипта на ansible, которые устанавливают и настраивают nginx и epel. 

Подробнее о файлах в лабораторной работе ниже.
## Информация о файлах
### Конфигурационного файл
Мною был создан конфигурационный файл, в котором отображены такие параметры как:
1. Указываем inventory файл
2. Указываем пользователя, с которомы мы работаем
3. Нужно ли осуществлять host_key_checking
4. Парметр defualt_transport. (параемтр smart ставит автоматическое переключение ммежду ssh и paramiko в зависимости от ОС)

### inventory файл
Для подключения к хосту nginx нам необходимо будет передать множество параметров - это
особенность Vagrant. Узнать эти параметры можно с помощью команды vagrant ssh-config.
После прописывания этой команды вводим необходимые данные в inventory файл.
Указываем имя хоста, ip-адрес, путь до приватного ключа ansible

### Playbook epel
Этот playbook устанавливает последнюю версию epel на группу хостов webservers.

### Playbook nginx
Скачивает nginx и изменяет конфигурационный файл по шаблону (nginx.conf.j2).

В шаблоне используется переменная listen_port. В ней указывается параметр порта для размещения сайта. 
При изменении конфига осуществляется перезагрузка в автоматическом режиме.

## Запуск скриптов
#### 1. Нужно удостовериться, что виртуальная мащина работает
Для этого написать команду "vagrant status"
Если результат "running", то этот пункт выполнен
#### 2. Проверить, что конфигурационный файл и inventory заполенен корректными данными 
Для этого можно прописать команду "vagrant ssh-config" и проверить соответсвие данных с тем, что написано в ansible.cfg и inventory
#### 3. Запуск epel.yml
Для этого необходимо прописать в терминале команду "ansible-playbook epel.yml"
Результат должен быть:
"nginx                      : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0"
#### 4. Запуск nginx.yml
Для запуска файла нужно прописать команду "ansible-playbook nginx.yml"
Результат должен быть:
"nginx                      : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0"

## Результат
Открываем сайт по адресу <http://192.168.11.150:8080>
Если сайт открывается, то код работает корректно
![](result.jpg)
